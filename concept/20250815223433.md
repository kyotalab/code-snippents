---
id: 20250815223433
title: ドメインエラーの設計原則
type: concept
tags: [domain-error, ddd, business-rules, error-design, domain-purity]
created: 2025-08-15 22:34:33
updated: 2025-08-15 22:40:50
---

## ドメインエラーの設計原則

### Core Concept

ドメインエラーは純粋にビジネスルール違反のみを表現し、技術的詳細を含まない。

---

### 設計原則

#### 1. ビジネスルール特化

```go
var ErrInvalidPriority = DomainError{
    Code:    "INVALID_PRIORITY",
    Message: "優先度は A, B, C のいずれかである必要があります",
}
```

#### 2. コンテキスト情報の付与

```go
func NewInvalidPriorityError(priority string) DomainError {
    return DomainError{
        Code:    "INVALID_PRIORITY",
        Message: fmt.Sprintf("無効な優先度: '%s'", priority),
        Field:   "priority",
    }
}
```

#### 3. 技術的詳細の排除

- ファイルパス、HTTPステータスコード等は含まない
- データベース固有のエラーは含まない
- JSON/YAML/XML等の形式エラーは含まない

---

### 利点

- ドメインの独立性
- テストの容易性
- ビジネスルールの明確化

---

### Related Notes

- [層別エラー設計パターン](./20250815170343.md)
- [Go言語でのエラーハンドリングベストプラクティス](../technique/20250815224117.md)
