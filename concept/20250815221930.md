---
id: 20250815221930
title: アプリケーションサービスの責務
type: concept
tags:
  [application-service, ddd, use-case, orchestration, transaction-management]
created: 2025-08-15 22:19:30
updated: 2025-08-15 22:26:19
---

## アプリケーションサービスの責務

### Core Concept

アプリケーションサービスはユースケースの調整役であり、ドメインロジック自体は含まない。

---

### 責務範囲

1. **ユースケースの調整**: 複数のドメインオブジェクトの強調
2. **トランザクション管理**: データの整合性保証
3. **エラーハンドリング**: 層間のエラー変換
4. **外部サービスとの連携**: インフラ層の呼び出し

---

### 実装例

```go
func (s *TodoApplicationService) AddTodo(input AddTodoInput) (*domain.Todo, error) {
    // 1. ドメインオブジェクト作成
    todo, err := domain.NewTodo(input.Title, priority, input.Projects, input.Contexts)

    // 2. ID生成（インフラサービス）
    id, err := s.idGen.Generate()

    // 3. 永続化
    err = s.repo.Save(todo)

    return todo, nil
}
```

---

### アンチパターン

ドメインロジックをアプリケーション層に記述

---

### Related Note

- [Dependency Injection in Go](../pattern/20250815173055.md)
- [エンティティファクトリ vs ドメインサービス](../pattern/20250815222652.md)
