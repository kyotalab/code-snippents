---
id: 20250807123557
title: Go ファイル読み込みミニマム実装
type: syntax
tags: [go, file-io, error-handling]
created: 2025-08-07 12:35:57
updated: 2025-08-07 12:38:43
---

## Go ファイル読み込みミニマム実装

### Code Snippet

```go
package main

import (
	"fmt"
	"log"
	"os"
)

func main() {
	path := "main.g"
	res, err := reader(path)
	if err != nil {
		log.Fatalf("Error: %v", err)
		return
	}
	fmt.Printf("%s\n", res)
}

func reader(path string) (string, error) {
	content, err := os.ReadFile(path)
	if err != nil {
		return "", fmt.Errorf("failed to read file: %q\nCaused by '%w'\n", path, err)
	}
	return string(content), nil
}

```

---

### Points

1. `log.Fatalf` でより適切なエラー処理
2. `%w` でエラーをラップ
3. `%q` でパスをクォート
4. `%s` で文字列出力
