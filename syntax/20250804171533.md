---
id: 20250804171533
title: RustでYAMLファイルのデシリアライズ処理のミニマム実装
type: syntax
tags: [rust, yaml, serde, deserialize, file-io]
created: 2025-08-04 17:15:33
updated: 2025-08-05 14:41:33
---

## RustでYAMLファイルのデシリアライズ処理のミニマム実装

### Code Snippet

**Input YAML**

```yaml
- date: "2024-01-15"
  product: "Laptop"
  category: "Electronics"
  amount: 1200
  quantity: 1
  region: "North"
  salesperson: "Alice"

- date: "2024-01-15"
  product: "Mouse"
  category: "Electronics"
  amount: 25
  quantity: 3
  region: "South"
  salesperson: "Bob"
```

```rust
use std::fs;
use serde::Deserialize;
use chrono::NaiveDate;

fn main() -> Result<(), Box<dyn std::error::Error>> {
    let path = "sales.yaml";
    let yaml = fs::read_to_string(path)?;
    let sales: Vec<Sale> = serde_yaml::from_str(&yaml)?;

    println!("Loaded {} sales records:", sales.len());
    for sale in &sales {
        println!("{:#?}", sale);
    }

    Ok(())
}

#[derive(Debug, Deserialize)]
pub struct Sale {
    pub date: NaiveDate,
    pub product: String,
    pub category: String,
    pub amount: u32,
    pub quantity: u32,
    pub region: String,
    pub salesperson: String,
}
```

---

### Points

1. インデントベース（スペース推奨）
2. コメント対応（#）
3. 複数ドキュメント対応（---区切り）
4. より人間に読みやすい形式

---

### Dependencies

```toml
serde = { version = "1.0.219", features = ["derive"] }
serde_yaml = "0.9.34"
chrono = { version = "0.4.41", features = ["serde"] }
```

---

### Related Notes

- [RustでJSONファイルのデシリアライズ処理のミニマム実装](./20250804163538.md) - 同じ構造体を使用
- [Valueを使ったYAMLのデシリアライズ処理のミニマム実装](./20250804173129.md) - 動的なデシリアライズ
