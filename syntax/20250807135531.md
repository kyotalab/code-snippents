---
id: 20250807135531
title: Rust ファイル書き込みミニマム実装
type: syntax
tags: [rust, file-io, error-handling]
created: 2025-08-07 13:55:31
updated: 2025-08-07 13:57:43
---

## Rust ファイル書き込みミニマム実装

### Code Snippet

```rust
use std::{fs::{self, OpenOptions}, io::Write, path::Path};

fn main() -> Result<(), Box<dyn std::error::Error>>{
    let path = Path::new("example.txt");
    let content = "hello world\n";
    writer(path, &content)?;
    println!("Success!");
    Ok(())
}

fn writer(path: &Path, content: &str) -> Result<(), Box<dyn std::error::Error>> {
        let mut file = OpenOptions::new()
            .write(true)
            .create(true)
            .append(true)
            .open(path)?;

        file.write_all(content.as_bytes())?;
    Ok(())
}
```

---

### Points

1. `Path` は自動的に借用されるため、引数の `&` は不要
2. `path.display()` で `println!("{}", path)` が可能
