---
id: 20250807123050
title: Rust ファイル読み込みミニマム実装
type: syntax
tags: [rust, file-io, error-handling]
created: 2025-08-07 12:30:50
updated: 2025-08-07 12:36:21
---

## Rust ファイル読み込みミニマム実装

### Code Snippet

```rust
use std::{fs, path::Path};

fn main() -> Result<(), Box<dyn std::error::Error>>{
    let path = Path::new("src/main.rs");
    let res = reader(path)?;
    println!("{}", res);
    Ok(())
}


fn reader(path: &Path) -> Result<String, Box<dyn std::error::Error>>{
    fs::read_to_string(&path)
        .map_err(|err| {
            format!("Failed to read file: '{}'\nCaused by '{}'",
                path.display(), err).into()
        })
}
```

---

### Points

1. `Path` は自動的に借用されるため、引数の `&` は不要
2. `path.display()` で `println!("{}", path)` が可能
