---
id: 20250815173055
title: Dependency Injection in Go
type: pattern
tags: [dependency-injection, go, decoupling, testing, constructor-pattern]
created: 2025-08-15 17:30:55
updated: 2025-08-15 22:24:53
---

## Dependency Injection in Go

### Core Concept

Goでは明示的なコンストラクタ関数を使用してDependency Injectionを実現する。

---

### 実装パターン

```go
// アプリケーションサービス
type TodoApplicationService struct {
    repo  domain.TodoRepository
    idGen domain.IdGenerator
}

func NewTodoApplicationService(repo domain.TodoRepository, idGen domain.IdGenerator) *TodoApplicationService {
    return &TodoApplicationService{
        repo:  repo,
        idGen: idGen,
    }
}
```

---

### CLI層での組み立て

```go
// 依存性の注入
repo := infrastructure.NewFileTodoRepository("todo.json")
idGen := infrastructure.NewFileIdGenerator("todo.json")
service := application.NewTodoApplicationService(repo, idGen)
```

---

### 利点

- 疎結合な設計
- テスタビリティの向上
- 設定の外部化

---

### Related Notes

- [Repositoryパターンの実装](./20250815172501.md)
- [アプリケーションサービスの責務](../concept/20250815221930.md)
