---
id: 20250813212028
title: Rust vs Go ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ãƒ»æ¡ä»¶åˆ†å²æ¯”è¼ƒã‚¬ã‚¤ãƒ‰
type: technique
tags: [rust, go, pattern-matching]
created: 2025-08-13 21:20:28
updated: 2025-08-13 21:20:28
---

## Rust vs Go: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ãƒ»æ¡ä»¶åˆ†å²æ¯”è¼ƒã‚¬ã‚¤ãƒ‰

### æ¦‚è¦

Rustã¨Goã«ãŠã‘ã‚‹è¤‡é›‘ãªæ¡ä»¶åˆ†å²ã®å®Ÿè£…æ–¹æ³•ã‚’æ¯”è¼ƒã€‚ç‰¹ã«Rustã®ã‚¿ãƒ—ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã¨ã€Goã§ã®åŒç­‰æ©Ÿèƒ½å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åˆ†æã€‚

---

### ğŸ¦€ Rust: ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã®å¨åŠ›

#### åŸºæœ¬å®Ÿè£…ï¼ˆã‚¿ãƒ—ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ï¼‰

```rust
match (l_flg, w_flg, c_flg) {
    (true, false, false) => println!("    {} lines", len),
    (true, true, false) => println!("    {} lines    {} words", len, cnt),
    (true, true, true) => println!("    {} lines    {} words    {} bytes", len, cnt, bytes),
    (false, true, false) => println!("    {} words", cnt),
    (false, true, true) => println!("    {} words    {} bytes", cnt, bytes),
    (false, false, true) => println!("    {} bytes", bytes),
    (true, false, true) => println!("    {} lines    {} bytes", len, bytes),
    (false, false, false) => println!("    {} lines    {} words    {} bytes", len, cnt, bytes),
}
```

#### Rustã®å¼·ã¿

- **ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒå…¨ã‚±ãƒ¼ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯
- **å¯èª­æ€§**: ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒè¦–è¦šçš„ã«æ˜ç¢º
- **å‹å®‰å…¨æ€§**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å¦¥å½“æ€§ã‚’ä¿è¨¼
- **åŠ¹ç‡æ€§**: æœ€é©åŒ–ã•ã‚ŒãŸã‚¸ãƒ£ãƒ³ãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆ

---

### ğŸ¹ Go: 4ã¤ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

#### Pattern 1: Boolean Switchï¼ˆæœ€ã‚‚ç›´æ¥çš„ï¼‰

```go
switch {
case l_flg && !w_flg && !c_flg:
    fmt.Printf("    %d lines\n", len)
case l_flg && w_flg && !c_flg:
    fmt.Printf("    %d lines    %d words\n", len, cnt)
case l_flg && w_flg && c_flg:
    fmt.Printf("    %d lines    %d words    %d bytes\n", len, cnt, bytes)
case !l_flg && w_flg && !c_flg:
    fmt.Printf("    %d words\n", cnt)
case !l_flg && w_flg && c_flg:
    fmt.Printf("    %d words    %d bytes\n", cnt, bytes)
case !l_flg && !w_flg && c_flg:
    fmt.Printf("    %d bytes\n", bytes)
case l_flg && !w_flg && c_flg:
    fmt.Printf("    %d lines    %d bytes\n", len, bytes)
default:
    fmt.Printf("    %d lines    %d words    %d bytes\n", len, cnt, bytes)
}
```

**ç‰¹å¾´:**

- âœ… æœ€ã‚‚ç›´æ¥çš„ã§ç†è§£ã—ã‚„ã™ã„
- âŒ å†—é•·ã§ä¿å®ˆæ€§ã«èª²é¡Œ
- âŒ ã‚±ãƒ¼ã‚¹æ¼ã‚Œã®å¯èƒ½æ€§

#### Pattern 2: ãƒ“ãƒƒãƒˆãƒ•ãƒ©ã‚°ï¼ˆæ¨å¥¨ï¼‰

```go
flags := 0
if l_flg { flags |= 4 } // 100
if w_flg { flags |= 2 } // 010
if c_flg { flags |= 1 } // 001

switch flags {
case 4: // 100 (lines only)
    fmt.Printf("    %d lines\n", len)
case 6: // 110 (lines + words)
    fmt.Printf("    %d lines    %d words\n", len, cnt)
case 7: // 111 (all)
    fmt.Printf("    %d lines    %d words    %d bytes\n", len, cnt, bytes)
case 2: // 010 (words only)
    fmt.Printf("    %d words\n", cnt)
case 3: // 011 (words + bytes)
    fmt.Printf("    %d words    %d bytes\n", cnt, bytes)
case 1: // 001 (bytes only)
    fmt.Printf("    %d bytes\n", bytes)
case 5: // 101 (lines + bytes)
    fmt.Printf("    %d lines    %d bytes\n", len, bytes)
default: // 000 (default: all)
    fmt.Printf("    %d lines    %d words    %d bytes\n", len, cnt, bytes)
}
```

**ç‰¹å¾´:**

- âœ… ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã§åŠ¹ç‡çš„
- âœ… Unixç³»ãƒ„ãƒ¼ãƒ«ã®ä¼çµ±çš„æ‰‹æ³•
- âŒ ãƒ“ãƒƒãƒˆæ¼”ç®—ã®ç†è§£ãŒå¿…è¦

#### Pattern 3: æ–‡å­—åˆ—ã‚­ãƒ¼

```go
key := ""
if l_flg { key += "L" }
if w_flg { key += "W" }
if c_flg { key += "C" }

switch key {
case "L":
    fmt.Printf("    %d lines\n", len)
case "LW":
    fmt.Printf("    %d lines    %d words\n", len, cnt)
case "LWC":
    fmt.Printf("    %d lines    %d words    %d bytes\n", len, cnt, bytes)
case "W":
    fmt.Printf("    %d words\n", cnt)
case "WC":
    fmt.Printf("    %d words    %d bytes\n", cnt, bytes)
case "C":
    fmt.Printf("    %d bytes\n", bytes)
case "LC":
    fmt.Printf("    %d lines    %d bytes\n", len, bytes)
default:
    fmt.Printf("    %d lines    %d words    %d bytes\n", len, cnt, bytes)
}
```

**ç‰¹å¾´:**

- âœ… å¯èª­æ€§ãŒé«˜ã„
- âœ… ãƒ‡ãƒãƒƒã‚°æ™‚ã«çŠ¶æ…‹ãŒåˆ†ã‹ã‚Šã‚„ã™ã„
- âŒ æ–‡å­—åˆ—æ¯”è¼ƒã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰

#### Pattern 4: æ§‹é€ ä½“ãƒ™ãƒ¼ã‚¹

```go
type OutputFlags struct {
    Lines bool
    Words bool
    Chars bool
}

func printOutput(flags OutputFlags, len, cnt, bytes int) {
    switch flags {
    case OutputFlags{true, false, false}:
        fmt.Printf("    %d lines\n", len)
    case OutputFlags{true, true, false}:
        fmt.Printf("    %d lines    %d words\n", len, cnt)
    case OutputFlags{true, true, true}:
        fmt.Printf("    %d lines    %d words    %d bytes\n", len, cnt, bytes)
    case OutputFlags{false, true, false}:
        fmt.Printf("    %d words\n", cnt)
    case OutputFlags{false, true, true}:
        fmt.Printf("    %d words    %d bytes\n", cnt, bytes)
    case OutputFlags{false, false, true}:
        fmt.Printf("    %d bytes\n", bytes)
    case OutputFlags{true, false, true}:
        fmt.Printf("    %d lines    %d bytes\n", len, bytes)
    default:
        fmt.Printf("    %d lines    %d words    %d bytes\n", len, cnt, bytes)
    }
}
```

**ç‰¹å¾´:**

- âœ… å‹å®‰å…¨æ€§ãŒé«˜ã„
- âœ… æ‹¡å¼µæ€§ãŒè‰¯ã„
- âŒ æ§‹é€ ä½“æ¯”è¼ƒã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰

---

### âš–ï¸ æ¯”è¼ƒåˆ†æ

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ

| å®Ÿè£…                | å®Ÿè¡Œé€Ÿåº¦   | ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ | ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æœ€é©åŒ– |
| ------------------- | ---------- | ------------ | ---------------- |
| **Rust match**      | â­â­â­â­â­ | â­â­â­â­â­   | â­â­â­â­â­       |
| **Go ãƒ“ãƒƒãƒˆãƒ•ãƒ©ã‚°** | â­â­â­â­   | â­â­â­â­â­   | â­â­â­â­         |
| **Go Boolean**      | â­â­â­     | â­â­â­â­     | â­â­â­           |
| **Go æ–‡å­—åˆ—**       | â­â­       | â­â­â­       | â­â­             |
| **Go æ§‹é€ ä½“**       | â­â­       | â­â­â­       | â­â­             |

#### ä¿å®ˆæ€§ãƒ»å¯èª­æ€§

| å®Ÿè£…                | å¯èª­æ€§     | ä¿å®ˆæ€§     | æ‹¡å¼µæ€§     | ãƒ‡ãƒãƒƒã‚°å®¹æ˜“æ€§ |
| ------------------- | ---------- | ---------- | ---------- | -------------- |
| **Rust match**      | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­     |
| **Go æ–‡å­—åˆ—**       | â­â­â­â­â­ | â­â­â­â­   | â­â­â­â­   | â­â­â­â­â­     |
| **Go æ§‹é€ ä½“**       | â­â­â­â­   | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­       |
| **Go Boolean**      | â­â­â­     | â­â­       | â­â­       | â­â­â­         |
| **Go ãƒ“ãƒƒãƒˆãƒ•ãƒ©ã‚°** | â­â­       | â­â­â­     | â­â­â­â­   | â­â­           |

---

### ğŸ¯ ç”¨é€”åˆ¥æ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³

#### CLI ãƒ„ãƒ¼ãƒ«é–‹ç™º

- **Rust**: `match` expressionï¼ˆå®Œç’§ãªè§£æ±ºç­–ï¼‰
- **Go**: ãƒ“ãƒƒãƒˆãƒ•ãƒ©ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆUnixä¼çµ±ã«æº–æ‹ ï¼‰

#### Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³

- **Rust**: `match` + enumï¼ˆå‹å®‰å…¨æ€§é‡è¦–ï¼‰
- **Go**: æ§‹é€ ä½“ãƒ™ãƒ¼ã‚¹ï¼ˆæ‹¡å¼µæ€§é‡è¦–ï¼‰

#### é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦æ±‚

- **Rust**: `match`ï¼ˆæœ€é«˜åŠ¹ç‡ï¼‰
- **Go**: ãƒ“ãƒƒãƒˆãƒ•ãƒ©ã‚°ï¼ˆåŠ¹ç‡ã¨ã®ãƒãƒ©ãƒ³ã‚¹ï¼‰

#### ãƒãƒ¼ãƒ é–‹ç™º

- **Rust**: `match`ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã‚µãƒãƒ¼ãƒˆï¼‰
- **Go**: æ–‡å­—åˆ—ã‚­ãƒ¼ã¾ãŸã¯æ§‹é€ ä½“ï¼ˆå¯èª­æ€§é‡è¦–ï¼‰

---

### ğŸ’¡ å®Ÿè£…ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### Rust

```rust
// ã‚«ã‚¹ã‚¿ãƒ å‹ã§ã‚ˆã‚Šå‹å®‰å…¨ã«
#[derive(Debug)]
struct OutputOptions {
    lines: bool,
    words: bool,
    chars: bool,
}

impl OutputOptions {
    fn print_stats(&self, len: usize, cnt: usize, bytes: usize) {
        match (self.lines, self.words, self.chars) {
            (true, false, false) => println!("    {} lines", len),
            (true, true, false) => println!("    {} lines    {} words", len, cnt),
            // ... ä»–ã®ãƒ‘ã‚¿ãƒ¼ãƒ³
        }
    }
}
```

#### Go

```go
// å®šæ•°ã§ã®æ˜ç¢ºåŒ–
const (
    FlagLines = 1 << 2  // 4
    FlagWords = 1 << 1  // 2
    FlagChars = 1 << 0  // 1
)

func printStats(flags int, len, cnt, bytes int) {
    switch flags {
    case FlagLines:
        fmt.Printf("    %d lines\n", len)
    case FlagLines | FlagWords:
        fmt.Printf("    %d lines    %d words\n", len, cnt)
    // ...
    }
}
```

---

### ğŸ”— ã¾ã¨ã‚

#### è¨€èªç‰¹æ€§ã®æ´»ç”¨

**Rust**:

- ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã®è¡¨ç¾åŠ›ã‚’æœ€å¤§é™æ´»ç”¨
- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ã‚ˆã‚‹ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯ã§å®‰å…¨æ€§ç¢ºä¿
- æœ€é«˜ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨å¯èª­æ€§ã‚’ä¸¡ç«‹

**Go**:

- ã‚·ãƒ³ãƒ—ãƒ«ãªè¨€èªä»•æ§˜å†…ã§å®Ÿç”¨çš„ãªè§£æ±ºç­–ã‚’æ¨¡ç´¢
- ç”¨é€”ã«å¿œã˜ã¦ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã„åˆ†ã‘
- ãƒãƒ¼ãƒ é–‹ç™ºã§ã®ä¿å®ˆæ€§ã‚’é‡è¦–

ã©ã¡ã‚‰ã®è¨€èªã§ã‚‚ç›®çš„ã¯é”æˆã§ãã¾ã™ãŒã€Rustã®æ–¹ãŒã‚ˆã‚Šè¡¨ç¾åŠ›è±Šã‹ã§å®‰å…¨ãªå®Ÿè£…ãŒå¯èƒ½ã§ã™ã€‚ä¸€æ–¹ã€Goã¯å®Ÿè£…ã®é¸æŠè‚¢ãŒå¤šãã€ãƒãƒ¼ãƒ ã®ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ã«å¿œã˜ã¦é©åˆ‡ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸æŠã§ãã‚‹æŸ”è»Ÿæ€§ãŒã‚ã‚Šã¾ã™ã€‚
